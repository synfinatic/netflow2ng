services:
  netflow2ng:
    container_name: netflow2ng
    restart: unless-stopped
    image: synfinatic/netflow2ng:v0.1.1
    entrypoint: /netflow2ng # --level=debug
    ports:
      - 5556:5556/tcp
      - 8080:8080/tcp
      - 2055:2055/udp

  redis:
    image: "redis:alpine"

  ntopng:
    image: "ntop/ntopng:latest"
    command: ["--community", "--redis", "redis", "--interface", "tcp://netflow2ng:5556", "--disable-login", "--local-networks", "172.16.0.0/12", "--insecure"]
    ports:
      - "3000:3000"
    depends_on:
      - netflow2ng
      - redis
